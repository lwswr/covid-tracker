(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{185:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(57),c=n.n(i),o=(n(68),n(5)),u=n.n(o),l=n(9),s=n(12),d=n(1),f=n(2),p=n(58),b=["Cases","Deaths","Recovered"],v=function(e,t){return Object(p.a)(e,(function(e){switch(t.type){case"data fetched":e.countries=t.data.Countries,e.global=t.data.Global;break;case"country status fetched":e.countryStatus=t.data;break;case"search updated":e.search=t.search;var n=e.countries.find((function(e){return e.Country.toLowerCase()===t.search.toLowerCase()}));n&&(e.selectedCountry=n);break;case"selected list changed":e.selectedList=t.selectedList}}))},x=n(30),m=n.n(x),h=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://api.covid19api.com/summary");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://api.covid19api.com/total/dayone/country/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=n(3);function j(){var e=Object(d.a)(['\n  font-size: 25px;\n  border: 0;\n  border-bottom: 1px solid white;\n  background: white;\n  color: black;\n  font-family: "Montserrat", sans-serif;\n  transition: 0.2s;\n  :hover {\n    border-bottom: 1px solid grey;\n  }\n']);return j=function(){return e},e}function O(){var e=Object(d.a)(['\n  font-size: 25px;\n  border-top: 0;\n  border-left: 0;\n  border-right: 0;\n  border-bottom: 1px solid lightgrey;\n  background: white;\n  color: black;\n  margin-right: 10px;\n  font-family: "Montserrat", sans-serif;\n']);return O=function(){return e},e}function E(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  padding: 10px 20px;\n"]);return E=function(){return e},e}var w=Object(f.a)(g.b.form)(E()),C=Object(f.a)(g.b.input)(O()),k=Object(f.a)(g.b.button)(j()),L=function(e){var t=e.submit,n=r.useState("India"),a=Object(s.a)(n,2),i=a[0],c=a[1];return r.createElement(w,{onSubmit:function(e){e.preventDefault(),""!==i&&t(i)}},r.createElement(C,{type:"text",placeholder:"Search...",value:i,onChange:function(e){return c(e.target.value)}}),r.createElement(k,{type:"submit"},"Search"))};function D(){var e=Object(d.a)(["\n  font-size: 20px;\n"]);return D=function(){return e},e}function T(){var e=Object(d.a)(["\n  font-size: 25px;\n"]);return T=function(){return e},e}function z(){var e=Object(d.a)(["\n  font-size: 15px;\n"]);return z=function(){return e},e}function R(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: left;\n  padding: 10px 10px 10px 30px;\n  width: 33%;\n  height: 75px;\n  :nth-child(n + 2) {\n    border-left: 1px solid lightgrey;\n  }\n"]);return R=function(){return e},e}var S=f.a.div(R()),N=f.a.div(z()),I=f.a.div(T()),M=f.a.div(D()),A=function(e){var t=e.subTitle,n=e.total,a=e.increase;return r.createElement(S,null,r.createElement(N,null,r.createElement("strong",null,t)),r.createElement(I,null,n),r.createElement(M,null,"+",a))};function K(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return K=function(){return e},e}function G(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: left;\n  padding: 10px;\n  margin-bottom: 10px;\n"]);return G=function(){return e},e}var J=Object(f.a)(g.b.div)(G()),V=Object(f.a)(g.b.div)(K()),B=function(e){var t=e.title,n=e.subTitles,a=e.data;return r.createElement(J,null,r.createElement("h2",null,t),r.createElement(V,null,r.createElement(A,{subTitle:n[0],total:null===a||void 0===a?void 0:a.TotalConfirmed,increase:null===a||void 0===a?void 0:a.NewConfirmed}),r.createElement(A,{subTitle:n[1],total:null===a||void 0===a?void 0:a.TotalDeaths,increase:null===a||void 0===a?void 0:a.NewDeaths}),r.createElement(A,{subTitle:n[2],total:null===a||void 0===a?void 0:a.TotalRecovered,increase:null===a||void 0===a?void 0:a.NewRecovered})))};function Z(){var e=Object(d.a)(['\n  font-size: 25px;\n  border: 0;\n  border-bottom: 1px solid white;\n  background: white;\n  color: black;\n  font-family: "Montserrat", sans-serif;\n  transition: 0.2s;\n  :hover {\n    border-bottom: 1px solid grey;\n  }\n']);return Z=function(){return e},e}var q=f.a.select(Z());function F(e){var t=e.selectedList,n=e.value,a=e.onChange;return r.createElement(q,{value:null!==n&&void 0!==n?n:t,onChange:function(e){return a(e.target.value)}},t.map((function(e){return r.createElement("option",{key:e,value:e},e)})))}function H(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: flex-end;\n  font-size: 15px;\n  padding-right: 10px;\n  width: 33%;\n"]);return H=function(){return e},e}function P(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: flex-end;\n  font-size: 15px;\n  padding-right: 10px;\n  width: 33%;\n"]);return P=function(){return e},e}function Q(){var e=Object(d.a)(["\n  font-size: 15px;\n  padding-right: 10px;\n  width: 33%;\n"]);return Q=function(){return e},e}function U(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: flex-end;\n  font-size: 15px;\n  padding-right: 10px;\n  width: 33%;\n"]);return U=function(){return e},e}function W(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: flex-start;\n  font-size: 15px;\n  padding-right: 10px;\n  width: 33%;\n"]);return W=function(){return e},e}function X(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  padding: 10px 0px;\n  :nth-child(n + 2) {\n    border-top: 1px solid lightgrey;\n  }\n"]);return X=function(){return e},e}function Y(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: left;\n  width: 100%;\n"]);return Y=function(){return e},e}var $=Object(f.a)(g.b.div)(Y()),_=f.a.div(X()),ee=f.a.div(W()),te=f.a.div(U()),ne=f.a.div(Q()),re=f.a.div(P()),ae=f.a.div(H()),ie=function(e){var t=e.list,n=e.displayKey,a=e.secondaryDisplayKey,i=e.selectedList;return r.createElement($,null,r.createElement(_,null,r.createElement(ee,null,"Country"),r.createElement(te,null,"Total ",i),r.createElement(te,null,"Increase in ",i)),t.map((function(e,t){return r.createElement(_,{key:t},r.createElement(ne,null,e.Country),r.createElement(re,null,e[n]),r.createElement(ae,null,"+",e[a]))})))};var ce=n(62);function oe(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 70%;\n  border: 1px solid grey;\n  padding: 30px;\n  margin: 5px 0px;\n  border-radius: 15px;\n"]);return oe=function(){return e},e}var ue=f.a.div(oe());var le=function(e){var t=e.chartData,n=e.listChoice,a=Object(r.useMemo)((function(){return t.map((function(e){return e.Date}))}),[t]),i=function(e){for(var t=[],n=1;n<e.length-1;n++)e[n]-e[n-1]>=0&&t.push(e[n]-e[n-1]);return t}(t.map((function(e){return e[(t=n,"Cases"===t?"Confirmed":t)];var t}))),c=t[0].Country+" New "+n,o=500,u=800;return r.createElement(ue,null,r.createElement(ce.Line,{data:{labels:a,datasets:[{label:c,data:i,borderColor:"rgba(131, 154, 199, 0.8)",backgroundColor:"rgba(131, 154, 199, 0.2)"}]},height:o,width:u,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}],xAxes:[{type:"time",time:{unit:"month"}}]}}}))};function se(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 70%;\n  border: 1px solid grey;\n  padding: 30px;\n  margin: 5px 0px;\n  border-radius: 15px;\n"]);return se=function(){return e},e}function de(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]);return de=function(){return e},e}function fe(){var e=Object(d.a)(["\n  font-size: 25px;\n  margin: 5px;\n"]);return fe=function(){return e},e}function pe(){var e=Object(d.a)(["\n  border: 1px solid grey;\n  border-radius: 15px;\n  padding: 30px;\n  margin-bottom: 5px;\n  align-content: stretch;\n  width: 70%;\n"]);return pe=function(){return e},e}function be(){var e=Object(d.a)(["\n  display: flex;\n  border: 1px solid grey;\n  border-radius: 15px;\n  padding: 30px;\n  margin-bottom: 10px;\n  width: 70%;\n  font-size: 35px;\n  letter-spacing: 4px;\n"]);return be=function(){return e},e}function ve(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: auto;\n  padding-top: 20px;\n  width: 60%;\n"]);return ve=function(){return e},e}var xe=Object(f.a)(g.b.div)(ve()),me=Object(f.a)(g.b.div)(be()),he=Object(f.a)(g.b.div)(pe()),ye=Object(f.a)(g.b.div)(fe()),ge=Object(f.a)(g.b.div)(de()),je=Object(f.a)(g.b.div)(se());var Oe=function(){var e,t=a.a.useReducer(v,{countries:[],global:void 0,search:"India",selectedCountry:void 0,selectedList:"Cases",countryStatus:void 0}),n=Object(s.a)(t,2),i=n[0],c=n[1],o=["Cases","Deaths","Recovered"];Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:t=e.sent,c({type:"data fetched",data:t}),c({type:"search updated",search:"India"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(t);case 3:n=e.sent,c({type:"country status fetched",data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}i.search&&function(t){e.apply(this,arguments)}(i.search)}),[i.search]);var d,f,p=a.a.useMemo((function(){if(i.selectedList)switch(i.selectedList){case"Cases":return["TotalConfirmed","NewConfirmed"];case"Deaths":return["TotalDeaths","NewDeaths"];case"Recovered":return["TotalRecovered","NewRecovered"];default:!function(e){throw new Error("unreachable "+e)}(i.selectedList)}return[void 0,void 0]}),[i.selectedList]),x=Object(s.a)(p,2),m=x[0],j=x[1];return i.global&&i.countries&&i.selectedList&&i.countryStatus?a.a.createElement("div",{className:"App"},a.a.createElement(g.a,null,a.a.createElement(xe,null,a.a.createElement(me,{exit:{opacity:0},initial:{opacity:0,y:"-20px"},animate:{opacity:1,y:0},transition:{ease:"easeOut",duration:2}},"COVID-19 TRACKER"),a.a.createElement(he,{exit:{opacity:0},initial:{opacity:0,x:"-100px"},animate:{opacity:1,x:0},transition:{ease:"easeOut",duration:2}},a.a.createElement(ge,null,a.a.createElement(ye,null,"COVID-19 Overview"),a.a.createElement(L,{submit:function(e){c({type:"search updated",search:e})}})),i.global?a.a.createElement(B,{title:"Global",subTitles:o,data:i.global}):null,i.selectedCountry?a.a.createElement(B,{title:null===(e=i.selectedCountry)||void 0===e?void 0:e.Country,subTitles:o,data:i.selectedCountry}):null),a.a.createElement(je,{exit:{opacity:0},initial:{opacity:0,x:"100px"},animate:{opacity:1,x:0},transition:{ease:"easeOut",duration:2}},a.a.createElement(F,{onChange:function(e){c({type:"selected list changed",selectedList:e})},selectedList:b,value:i.selectedList}),a.a.createElement(ie,{list:(d=i.countries,f=m,d.slice(0).sort((function(e,t){return t[f]-e[f]})).slice(0,10)),selectedList:i.selectedList,displayKey:m,secondaryDisplayKey:j})),a.a.createElement(le,{chartData:i.countryStatus,listChoice:i.selectedList})))):a.a.createElement("div",null,"loading...")};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Oe,null)),document.getElementById("root"))},63:function(e,t,n){e.exports=n(185)},68:function(e,t,n){}},[[63,1,2]]]);
//# sourceMappingURL=main.6b3bd060.chunk.js.map